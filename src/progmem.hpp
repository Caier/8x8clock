#include <Arduino.h>

const char L32[] PROGMEM = "000,000,000,000,000,000,000,000";
const char L33[] PROGMEM = "0000,0110,1111,1111,0110,0110,0000,0110";
const char L34[] PROGMEM = "0000,1111,0101,0101,0000,0000,0000,0000";
const char L35[] PROGMEM = "0000000,0110110,0110110,1111111,0110110,1111111,0110110,0110110";
const char L36[] PROGMEM = "0000000,0001000,0111110,1101000,0111110,0001011,1111110,0001000";
const char L37[] PROGMEM = "0000000,0000000,0110011,1010110,1101100,0011011,0110101,1100110";
const char L38[] PROGMEM = "0000000,0011100,0100110,0011100,0111100,1100111,1100110,0111101";
const char L39[] PROGMEM = "00,11,01,10,00,00,00,00";
const char L40[] PROGMEM = "0000,0011,0110,1100,1100,1100,0110,0011";
const char L41[] PROGMEM = "0000,1100,0110,0011,0011,0011,0110,1100";
const char L42[] PROGMEM = "00000000,00000000,01100110,00111100,11111111,00111100,01100110,00000000";
const char L43[] PROGMEM = "000000,000000,001100,001100,111111,001100,001100,000000";
const char L44[] PROGMEM = "00,00,00,00,00,11,01,10";
const char L45[] PROGMEM = "0000000,0000000,0000000,0000000,1111111,0000000,0000000,0000000";
const char L46[] PROGMEM = "00,00,00,00,00,00,11,11";
const char L47[] PROGMEM = "0000000,0000001,0000011,0000110,0001100,0011000,0110000,1100000";
const char L48[] PROGMEM = "0000000,0111110,1100011,1100011,1100011,1100011,1100011,0111110";
const char L49[] PROGMEM = "000000,001100,011100,111100,001100,001100,001100,111111";
const char L50[] PROGMEM = "0000000,0111110,1100011,0000011,0001110,0111000,1100011,1111111";
const char L51[] PROGMEM = "0000000,0111110,1100011,0000011,0011110,0000011,1100011,0111110";
const char L52[] PROGMEM = "0000000,0001110,0011110,0110110,1100110,1111111,0000110,0001111";
const char L53[] PROGMEM = "0000000,1111111,1100000,1111110,0000011,0000011,1100011,0111110";
const char L54[] PROGMEM = "0000000,0111110,1100011,1100000,1111110,1100011,1100011,0111110";
const char L55[] PROGMEM = "0000000,1111111,1100011,0000110,0001100,0011000,0011000,0011000";
const char L56[] PROGMEM = "0000000,0111110,1100011,1100011,0111110,1100011,1100011,0111110";
const char L57[] PROGMEM = "0000000,0111110,1100011,1100011,0111111,0000011,1100011,0111110";
const char L58[] PROGMEM = "00,00,11,11,00,11,11,00";
const char L59[] PROGMEM = "00,00,11,11,00,11,01,10";
const char L60[] PROGMEM = "00000,00011,00110,01100,11000,01100,00110,00011";
const char L61[] PROGMEM = "000000,000000,000000,111111,000000,000000,111111,000000";
const char L62[] PROGMEM = "00000,11000,01100,00110,00011,00110,01100,11000";
const char L63[] PROGMEM = "000000,011110,110011,000011,000110,001100,000000,001100";
const char L64[] PROGMEM = "0000000,0111110,1000001,1001111,1010011,1001111,1000000,0111110";
const char L65[] PROGMEM = "0000000,0111110,1100011,1100011,1111111,1100011,1100011,1100011";
const char L66[] PROGMEM = "0000000,1111110,0110011,0110011,0111110,0110011,0110011,1111110";
const char L67[] PROGMEM = "0000000,0111110,1100011,1100000,1100000,1100000,1100011,0111110";
const char L68[] PROGMEM = "0000000,1111110,0110011,0110011,0110011,0110011,0110011,1111110";
const char L69[] PROGMEM = "0000000,1111111,0110001,0110100,0111100,0110100,0110001,1111111";
const char L70[] PROGMEM = "0000000,1111111,0110001,0110100,0111100,0110100,0110000,1111000";
const char L71[] PROGMEM = "0000000,0111110,1100011,1100011,1100000,1100111,1100011,0111111";
const char L72[] PROGMEM = "0000000,1100011,1100011,1100011,1111111,1100011,1100011,1100011";
const char L73[] PROGMEM = "0000,1111,0110,0110,0110,0110,0110,1111";
const char L74[] PROGMEM = "0000000,0001111,0000110,0000110,0000110,1100110,1100110,0111100";
const char L75[] PROGMEM = "0000000,1110011,0110011,0110110,0111100,0110110,0110011,1110011";
const char L76[] PROGMEM = "0000000,1111000,0110000,0110000,0110000,0110001,0110011,1111111";
const char L77[] PROGMEM = "0000000,1000001,1100011,1110111,1111111,1101011,1100011,1100011";
const char L78[] PROGMEM = "0000000,1100011,1110011,1111011,1101111,1100111,1100011,1100011";
const char L79[] PROGMEM = "0000000,0111110,1100011,1100011,1100011,1100011,1100011,0111110";
const char L80[] PROGMEM = "0000000,1111110,0110011,0110011,0111110,0110000,0110000,1111000";
const char L81[] PROGMEM = "0111110,1100011,1100011,1100011,1101011,1101111,0111110,0000011";
const char L82[] PROGMEM = "0000000,1111110,0110011,0110011,0111110,0110011,0110011,1110011";
const char L83[] PROGMEM = "0000000,0111110,1100011,1100000,0111110,0000011,1100011,0111110";
const char L84[] PROGMEM = "000000,111111,101101,101101,001100,001100,001100,011110";
const char L85[] PROGMEM = "0000000,1100011,1100011,1100011,1100011,1100011,1100011,0111110";
const char L86[] PROGMEM = "0000000,1100011,1100011,1100011,1100011,0110110,0011100,0001000";
const char L87[] PROGMEM = "0000000,1100011,1100011,1101011,1111111,1110111,1100011,1000001";
const char L88[] PROGMEM = "0000000,1100011,0110110,0011100,0011100,0011100,0110110,1100011";
const char L89[] PROGMEM = "000000,110011,110011,110011,011110,001100,001100,011110";
const char L90[] PROGMEM = "0000000,1111111,1100011,1000110,0001100,0011001,0110011,1111111";
const char L91[] PROGMEM = "0000,1111,1100,1100,1100,1100,1100,1111";
const char L92[] PROGMEM = "0000000,1100000,0110000,0011000,0001100,0000110,0000011,0000001";
const char L93[] PROGMEM = "0000,1111,0011,0011,0011,0011,0011,1111";
const char L94[] PROGMEM = "0000000,0001000,0011100,0110110,1100011,0000000,0000000,0000000";
const char L95[] PROGMEM = "00000000,00000000,00000000,00000000,00000000,00000000,00000000,11111111";
const char L96[] PROGMEM = "00,11,10,01,00,00,00,00";
const char L97[] PROGMEM = "0000000,0000000,0000000,0111100,0000110,0111110,1100110,0111011";
const char L98[] PROGMEM = "000000,110000,110000,110000,111110,110011,110011,111110";
const char L99[] PROGMEM = "000000,000000,000000,011110,110011,110000,110011,011110";
const char L100[] PROGMEM = "0000000,0001110,0000110,0000110,0111110,1100110,1100110,0111011";
const char L101[] PROGMEM = "000000,000000,000000,011110,110011,111111,110000,011110";
const char L102[] PROGMEM = "000000,001110,011011,011000,111100,011000,011000,111100";
const char L103[] PROGMEM = "000000,000000,011111,110011,110011,011111,000011,011110";
const char L104[] PROGMEM = "000000,110000,110000,110110,111011,110011,110011,110011";
const char L105[] PROGMEM = "0000,0110,0000,1110,0110,0110,0110,1111";
const char L106[] PROGMEM = "00011,00000,00111,00011,00011,00011,11011,01110";
const char L107[] PROGMEM = "000000,110000,110000,110011,110110,111100,110110,110011";
const char L108[] PROGMEM = "0000,1110,0110,0110,0110,0110,0110,1111";
const char L109[] PROGMEM = "0000000,0000000,0000000,1100110,1111111,1101011,1101011,1100011";
const char L110[] PROGMEM = "000000,000000,000000,111110,110011,110011,110011,110011";
const char L111[] PROGMEM = "000000,000000,000000,011110,110011,110011,110011,011110";
const char L112[] PROGMEM = "000000,000000,111110,110011,110011,111110,110000,110000";
const char L113[] PROGMEM = "000000,000000,011111,110011,110011,011111,000011,000011";
const char L114[] PROGMEM = "000000,000000,000000,110111,011101,011000,011000,111000";
const char L115[] PROGMEM = "00000,00000,00000,01111,11000,01110,00011,11110";
const char L116[] PROGMEM = "00000,00100,01100,11111,01100,01100,01101,00110";
const char L117[] PROGMEM = "000000,000000,000000,110011,110011,110011,110011,011101";
const char L118[] PROGMEM = "0000000,0000000,0000000,1100011,1100011,0110110,0011100,0001000";
const char L119[] PROGMEM = "0000000,0000000,0000000,1100011,1101011,1101011,1111111,0110110";
const char L120[] PROGMEM = "0000000,0000000,0000000,1100011,0110110,0011100,0110110,1100011";
const char L121[] PROGMEM = "000000,000000,110011,110011,110011,011111,000011,111110";
const char L122[] PROGMEM = "000000,000000,000000,111111,100110,001100,011001,111111";
const char L123[] PROGMEM = "00000,00111,01100,01100,11000,01100,01100,00111";
const char L124[] PROGMEM = "00,11,11,11,00,11,11,11";
const char L125[] PROGMEM = "00000,11100,00110,00110,00011,00110,00110,11100";
const char L126[] PROGMEM = "0000000,0111011,1101110,0000000,0000000,0000000,0000000,0000000";
const char S1[] PROGMEM = "01111100,11000110,11000110,11111110,11000110,11000110,11000110,00000011";
const char S2[] PROGMEM = "11111110,01100010,01101000,01111000,01101000,01100010,11111110,00000011";
const char S3[] PROGMEM = "0001000,0000000,1111111,1100110,1001100,0011001,0110011,1111111";
const char S4[] PROGMEM = "0000110,0001000,1111111,1100110,1001100,0011001,0110011,1111111";
const char S5[] PROGMEM = "000110,001000,011110,110011,110000,110000,110011,011110";
const char S6[] PROGMEM = "000110,001000,011110,110011,110011,110011,110011,011110";
const char S7[] PROGMEM = "0001000,0111110,1100011,1100000,0111110,0000011,1100011,0111110";
const char S8[] PROGMEM = "0000000,1111000,0110000,0110100,1111000,0110001,0110011,1111111";
const char S9[] PROGMEM = "0000100,0001000,1100011,1110011,1111011,1101111,1100111,1100011";
const char S10[] PROGMEM = "00000000,00000000,01111000,00001100,01111100,11001100,01110110,00000011";
const char S11[] PROGMEM = "000000,000000,011110,110011,111111,110000,011110,000011";
const char S12[] PROGMEM = "000000,001100,000000,111111,100110,001100,011001,111111";
const char S13[] PROGMEM = "000000,000110,001000,111111,100110,001100,011001,111111";
const char S14[] PROGMEM = "000000,000110,001000,011110,110011,110000,110011,011110";
const char S15[] PROGMEM = "000000,000000,000110,001000,011110,110011,110011,011110";
const char S16[] PROGMEM = "00000,00011,00100,01111,11000,01110,00011,11110";
const char S17[] PROGMEM = "0000,1110,0110,0111,0110,1110,0110,1111";
const char S18[] PROGMEM = "000000,000110,001000,111110,110011,110011,110011,110011";

const uint8_t minimap[][6] PROGMEM = {
  0b111, 0b101, 0b101, 0b101, 0b101, 0b111, //0
  0b010, 0b110, 0b010, 0b010, 0b010, 0b111, //1
  0b010, 0b101, 0b001, 0b010, 0b100, 0b111, //2
  0b111, 0b001, 0b010, 0b010, 0b001, 0b111, //3
  0b101, 0b101, 0b101, 0b111, 0b001, 0b001, //4
  0b111, 0b100, 0b110, 0b001, 0b001, 0b110, //5
  0b111, 0b100, 0b111, 0b101, 0b101, 0b111, //6
  0b111, 0b001, 0b001, 0b010, 0b010, 0b010, //7
  0b111, 0b101, 0b111, 0b101, 0b101, 0b111, //8
  0b111, 0b101, 0b101, 0b111, 0b001, 0b111 //9
};

const char* const chmap[] PROGMEM = { L32, L33, L34, L35, L36, L37, L38, L39, L40, L41, L42, L43, L44, L45, L46, L47, L48, L49, L50, L51, L52, L53, L54, L55, L56, L57, L58, L59, L60, L61, L62, L63, L64, L65, L66, L67, L68, L69, L70, L71, L72, L73, L74, L75, L76, L77, L78, L79, L80, L81, L82, L83, L84, L85, L86, L87, L88, L89, L90, L91, L92, L93, L94, L95, L96, L97, L98, L99, L100, L101, L102, L103, L104, L105, L106, L107, L108, L109, L110, L111, L112, L113, L114, L115, L116, L117, L118, L119, L120, L121, L122, L123, L124, L125, L126, S1, S2, S3, S4, S5, S6, S7, S8, S9, S10, S11, S12, S13, S14, S15, S16, S17, S18 };
const int plvals[19] = {-127, -86, -113, -116, -90, -77, -122, -125, -79, -111, -54, -97, -100, -58, -45, -106, -109, -47, -32};

String readFromPmem(int index) {
  if(index < 0)
    for(int i = 0; i < 19; i++)
        if(plvals[i] == index) {
            index = 95 + i;
            break;
        }
  char buf[72]; //max length is 8*8 bits + 7 commas
  strcpy_P(buf, (char*)pgm_read_word(&(chmap[index])));
  return String(buf);
}

uint8_t getMinimap(uint8_t y, uint8_t x) {
  return pgm_read_byte(&(minimap[y][x]));
}